{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"overflow-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex-1\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = [\"onUpdate:modelValue\", \"onKeyup\", \"onBlur\"];\nconst _hoisted_5 = {\n  class: \"flex gap-2\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"18px\",\n  height: \"18px\",\n  fill: \"currentColor\",\n  viewBox: \"0 0 512 512\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z\"\n})], -1 /* HOISTED */);\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"18px\",\n  height: \"18px\",\n  fill: \"currentColor\",\n  viewBox: \"0 0 512 512\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M173.898 439.404l-166.4-166.4c-12.497-12.497-12.497-32.758 0-45.255l22.628-22.628c12.497-12.497 32.758-12.497 45.255 0L192 312.172l300.517-300.517c12.497-12.497 32.758-12.497 45.255 0l22.628 22.628c12.497 12.497 12.497 32.758 0 45.255L219.172 439.404c-12.497 12.497-32.758 12.497-45.255 0z\"\n})], -1 /* HOISTED */);\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"18px\",\n  height: \"18px\",\n  fill: \"currentColor\",\n  viewBox: \"0 0 448 512\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z\"\n})], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.comments, comment => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: comment.id,\n      class: \"flex items-center justify-between mb-2\"\n    }, [_createElementVNode(\"div\", _hoisted_2, [!comment.editing ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString(comment.body), 1 /* TEXT */)) : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n      key: 1,\n      \"onUpdate:modelValue\": $event => comment.body = $event,\n      onKeyup: _withKeys($event => $options.saveComment(comment), [\"enter\"]),\n      onBlur: $event => $options.cancelEdit(comment),\n      class: \"w-full p-2 border rounded\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_4)), [[_vModelText, comment.body]])]), _createElementVNode(\"div\", _hoisted_5, [!comment.editing ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.editComment(comment),\n      class: \"px-2 py-1 text-blue-500 rounded\"\n    }, [_createCommentVNode(\" Edit icon \"), _hoisted_7], 8 /* PROPS */, _hoisted_6)) : _createCommentVNode(\"v-if\", true), comment.editing ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.saveComment(comment),\n      class: \"px-2 py-1 text-green-500 rounded\"\n    }, [_createCommentVNode(\" Save icon \"), _hoisted_9], 8 /* PROPS */, _hoisted_8)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteComment(comment.id),\n      class: \"px-2 py-1 text-red-500 rounded\"\n    }, [_createCommentVNode(\" Delete icon \"), _hoisted_11], 8 /* PROPS */, _hoisted_10)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementVNode","xmlns","width","height","fill","viewBox","d","_createElementBlock","_hoisted_1","_Fragment","_renderList","$data","comments","comment","key","id","_hoisted_2","editing","_hoisted_3","_toDisplayString","body","$event","onKeyup","_withKeys","$options","saveComment","onBlur","cancelEdit","_hoisted_5","onClick","editComment","_createCommentVNode","_hoisted_7","_hoisted_9","deleteComment","_hoisted_11"],"sources":["C:\\Users\\Master\\OneDrive\\Documents\\VueJs\\Blogemaster\\src\\views\\CommentView.vue"],"sourcesContent":["<template>\r\n  <div class=\"overflow-auto\">\r\n    <ul>\r\n      <li v-for=\"comment in comments\" :key=\"comment.id\" class=\"flex items-center justify-between mb-2\">\r\n        <div class=\"flex-1\">\r\n          <p v-if=\"!comment.editing\">{{ comment.body }}</p>\r\n          <input v-else v-model=\"comment.body\" @keyup.enter=\"saveComment(comment)\" @blur=\"cancelEdit(comment)\" class=\"w-full p-2 border rounded\"/>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <button @click=\"editComment(comment)\" v-if=\"!comment.editing\" class=\"px-2 py-1 text-blue-500 rounded\">\r\n            <!-- Edit icon -->\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18px\" height=\"18px\" fill=\"currentColor\" viewBox=\"0 0 512 512\">\r\n              <path d=\"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z\"/>\r\n            </svg>\r\n          </button>\r\n          <button @click=\"saveComment(comment)\" v-if=\"comment.editing\" class=\"px-2 py-1 text-green-500 rounded\">\r\n            <!-- Save icon -->\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18px\" height=\"18px\" fill=\"currentColor\" viewBox=\"0 0 512 512\">\r\n              <path d=\"M173.898 439.404l-166.4-166.4c-12.497-12.497-12.497-32.758 0-45.255l22.628-22.628c12.497-12.497 32.758-12.497 45.255 0L192 312.172l300.517-300.517c12.497-12.497 32.758-12.497 45.255 0l22.628 22.628c12.497 12.497 12.497 32.758 0 45.255L219.172 439.404c-12.497 12.497-32.758 12.497-45.255 0z\"/>\r\n            </svg>\r\n          </button>\r\n          <button @click=\"deleteComment(comment.id)\" class=\"px-2 py-1 text-red-500 rounded\">\r\n            <!-- Delete icon -->\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18px\" height=\"18px\" fill=\"currentColor\" viewBox=\"0 0 448 512\">\r\n              <path d=\"M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'CommentsAll',\r\n  props: {\r\n    postId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      comments: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchComments();\r\n  },\r\n  methods: {\r\n    async fetchComments() {\r\n      try {\r\n        const response = await axios.get(`http://localhost:3003/comments?postId=${this.postId}`);\r\n        this.comments = response.data.map(comment => ({ ...comment, editing: false }));\r\n      } catch (error) {\r\n        console.error('Error fetching comments:', error);\r\n      }\r\n    },\r\n    async deleteComment(commentId) {\r\n      try {\r\n        await axios.delete(`http://localhost:3003/comments/${commentId}`);\r\n        this.comments = this.comments.filter(comment => comment.id !== commentId);\r\n      } catch (error) {\r\n        console.error('Error deleting comment:', error);\r\n      }\r\n    },\r\n    editComment(comment) {\r\n      comment.editing = true;\r\n    },\r\n    cancelEdit(comment) {\r\n      comment.editing = false;\r\n      this.fetchComments();  // Revert changes if input is blurred\r\n    },\r\n    async saveComment(comment) {\r\n      try {\r\n        await axios.put(`http://localhost:3003/comments/${comment.id}`, comment);\r\n        comment.editing = false;\r\n      } catch (error) {\r\n        console.error('Error saving comment:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAGfA,KAAK,EAAC;AAAQ;;;;;;EAIdA,KAAK,EAAC;AAAY;;gCAGnBC,mBAAA,CAEM;EAFDC,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,MAAM;EAACC,MAAM,EAAC,MAAM;EAACC,IAAI,EAAC,cAAc;EAACC,OAAO,EAAC;iBAC7FL,mBAAA,CAAsrB;EAAhrBM,CAAC,EAAC;AAA4qB,G;;gCAKtrBN,mBAAA,CAEM;EAFDC,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,MAAM;EAACC,MAAM,EAAC,MAAM;EAACC,IAAI,EAAC,cAAc;EAACC,OAAO,EAAC;iBAC7FL,mBAAA,CAA6S;EAAvSM,CAAC,EAAC;AAAmS,G;;iCAK7SN,mBAAA,CAEM;EAFDC,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,MAAM;EAACC,MAAM,EAAC,MAAM;EAACC,IAAI,EAAC,cAAc;EAACC,OAAO,EAAC;iBAC7FL,mBAAA,CAAirB;EAA3qBM,CAAC,EAAC;AAAuqB,G;;;uBAvB3rBC,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BJR,mBAAA,CA2BK,c,kBA1BHO,mBAAA,CAyBKE,SAAA,QAAAC,WAAA,CAzBiBC,KAAA,CAAAC,QAAQ,EAAnBC,OAAO;yBAAlBN,mBAAA,CAyBK;MAzB4BO,GAAG,EAAED,OAAO,CAACE,EAAE;MAAEhB,KAAK,EAAC;QACtDC,mBAAA,CAGM,OAHNgB,UAGM,G,CAFMH,OAAO,CAACI,OAAO,I,cAAzBV,mBAAA,CAAiD,KAAAW,UAAA,EAAAC,gBAAA,CAAnBN,OAAO,CAACO,IAAI,oB,+BAC1Cb,mBAAA,CAAwI;;uCAAjHM,OAAO,CAACO,IAAI,GAAAC,MAAA;MAAGC,OAAK,EAAAC,SAAA,CAAAF,MAAA,IAAQG,QAAA,CAAAC,WAAW,CAACZ,OAAO;MAAIa,MAAI,EAAAL,MAAA,IAAEG,QAAA,CAAAG,UAAU,CAACd,OAAO;MAAGd,KAAK,EAAC;0EAApFc,OAAO,CAACO,IAAI,E,KAErCpB,mBAAA,CAmBM,OAnBN4B,UAmBM,G,CAlByCf,OAAO,CAACI,OAAO,I,cAA5DV,mBAAA,CAKS;;MALAsB,OAAK,EAAAR,MAAA,IAAEG,QAAA,CAAAM,WAAW,CAACjB,OAAO;MAA2Bd,KAAK,EAAC;QAClEgC,mBAAA,eAAkB,EAClBC,UAEM,C,mEAEoCnB,OAAO,CAACI,OAAO,I,cAA3DV,mBAAA,CAKS;;MALAsB,OAAK,EAAAR,MAAA,IAAEG,QAAA,CAAAC,WAAW,CAACZ,OAAO;MAA0Bd,KAAK,EAAC;QACjEgC,mBAAA,eAAkB,EAClBE,UAEM,C,mEAERjC,mBAAA,CAKS;MALA6B,OAAK,EAAAR,MAAA,IAAEG,QAAA,CAAAU,aAAa,CAACrB,OAAO,CAACE,EAAE;MAAGhB,KAAK,EAAC;QAC/CgC,mBAAA,iBAAoB,EACpBI,WAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}