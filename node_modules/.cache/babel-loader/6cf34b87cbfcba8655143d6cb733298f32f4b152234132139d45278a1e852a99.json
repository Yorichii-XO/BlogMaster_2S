{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4a06ea3e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"p-6 bg-gray-100 min-h-screen\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-bold mb-4\"\n}, \"Todo List\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"mb-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"category-select\",\n  class: \"block text-lg font-medium mb-2\"\n}, \"Filter by Category:\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"All Categories\", -1 /* HOISTED */));\nconst _hoisted_6 = [\"value\"];\nconst _hoisted_7 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\"\n};\nconst _hoisted_8 = {\n  class: \"text-xl font-semibold mb-2\"\n};\nconst _hoisted_9 = {\n  class: \"text-gray-700 mb-2\"\n};\nconst _hoisted_10 = {\n  class: \"text-gray-700 mb-2\"\n};\nconst _hoisted_11 = {\n  class: \"text-gray-700 mb-2\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TodoForm = _resolveComponent(\"TodoForm\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" Categories Dropdown \"), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"select\", {\n    id: \"category-select\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedCategory = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.fetchTodos && $options.fetchTodos(...args)),\n    class: \"p-2 border rounded\"\n  }, [_hoisted_5, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, category => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: category.id,\n      value: category.id\n    }, _toDisplayString(category.name), 9 /* TEXT, PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.selectedCategory]])]), _createCommentVNode(\" Todos List in Cards \"), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.todos, todo => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: todo.id,\n      class: \"p-4 bg-white border border-gray-200 rounded-lg shadow-md\"\n    }, [_createElementVNode(\"h3\", _hoisted_8, _toDisplayString(todo.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_9, \"Category: \" + _toDisplayString($options.getCategoryName(todo.categoryId)), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, \"Due Date: \" + _toDisplayString(todo.dueDate), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_11, \"Status: \" + _toDisplayString(todo.status), 1 /* TEXT */), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.editTodo(todo),\n      class: \"px-2 py-1 bg-blue-500 text-white rounded mr-2 hover:bg-blue-600\"\n    }, \"Edit\", 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteTodo(todo.id),\n      class: \"px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600\"\n    }, \"Delete\", 8 /* PROPS */, _hoisted_13)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Add Todo Button \"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $data.showCreateForm = true),\n    class: \"mt-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600\"\n  }, \"Add Todo\"), $data.showCreateForm ? (_openBlock(), _createBlock(_component_TodoForm, {\n    key: 0,\n    onTodoCreated: $options.fetchTodos,\n    onCloseForm: $options.resetForm,\n    categories: $data.categories\n  }, null, 8 /* PROPS */, [\"onTodoCreated\", \"onCloseForm\", \"categories\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","value","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","id","$data","selectedCategory","$event","onChange","_cache","args","$options","fetchTodos","_hoisted_5","_Fragment","_renderList","categories","category","key","name","_hoisted_6","_hoisted_7","todos","todo","_hoisted_8","_toDisplayString","title","_hoisted_9","getCategoryName","categoryId","_hoisted_10","dueDate","_hoisted_11","status","onClick","editTodo","_hoisted_12","deleteTodo","_hoisted_13","showCreateForm","_createBlock","_component_TodoForm","onTodoCreated","onCloseForm","resetForm"],"sources":["C:\\Users\\Master\\OneDrive\\Documents\\VueJs\\Blogemaster\\src\\views\\TodoList.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-6 bg-gray-100 min-h-screen\">\r\n    <h2 class=\"text-2xl font-bold mb-4\">Todo List</h2>\r\n\r\n    <!-- Categories Dropdown -->\r\n    <div class=\"mb-4\">\r\n      <label for=\"category-select\" class=\"block text-lg font-medium mb-2\">Filter by Category:</label>\r\n      <select id=\"category-select\" v-model=\"selectedCategory\" @change=\"fetchTodos\" class=\"p-2 border rounded\">\r\n        <option value=\"\">All Categories</option>\r\n        <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\r\n          {{ category.name }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n\r\n    <!-- Todos List in Cards -->\r\n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n      <div v-for=\"todo in todos\" :key=\"todo.id\" class=\"p-4 bg-white border border-gray-200 rounded-lg shadow-md\">\r\n        <h3 class=\"text-xl font-semibold mb-2\">{{ todo.title }}</h3>\r\n        <p class=\"text-gray-700 mb-2\">Category: {{ getCategoryName(todo.categoryId) }}</p>\r\n        <p class=\"text-gray-700 mb-2\">Due Date: {{ todo.dueDate }}</p>\r\n        <p class=\"text-gray-700 mb-2\">Status: {{ todo.status }}</p>\r\n        <div>\r\n          <button @click=\"editTodo(todo)\" class=\"px-2 py-1 bg-blue-500 text-white rounded mr-2 hover:bg-blue-600\">Edit</button>\r\n          <button @click=\"deleteTodo(todo.id)\" class=\"px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add Todo Button -->\r\n    <button @click=\"showCreateForm = true\" class=\"mt-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600\">Add Todo</button>\r\n    <TodoForm v-if=\"showCreateForm\" @todoCreated=\"fetchTodos\" @closeForm=\"resetForm\" :categories=\"categories\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TodoForm from './TodoForm.vue';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'TodoList',\r\n  components: { TodoForm },\r\n  data() {\r\n    return {\r\n      todos: [],\r\n      categories: [],\r\n      showCreateForm: false,\r\n      selectedCategory: '', // Used for filtering todos by category\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchCategories();\r\n    this.fetchTodos();\r\n  },\r\n  methods: {\r\n    fetchCategories() {\r\n      axios.get('http://localhost:3002/categories') // Ensure this endpoint is correct\r\n        .then(response => {\r\n          this.categories = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error fetching the categories:\", error);\r\n        });\r\n    },\r\n    fetchTodos() {\r\n      const categoryFilter = this.selectedCategory ? `?categoryId=${this.selectedCategory}` : '';\r\n      axios.get(`http://localhost:3001/todos${categoryFilter}`)\r\n        .then(response => {\r\n          this.todos = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error fetching the todos:\", error);\r\n        });\r\n    },\r\n    deleteTodo(id) {\r\n      axios.delete(`http://localhost:3001/todos/${id}`)\r\n        .then(() => {\r\n          this.fetchTodos();\r\n        })\r\n        .catch(error => {\r\n          console.error(\"There was an error deleting the todo:\", error);\r\n        });\r\n    },\r\n    editTodo(todo) {\r\n      // Handle the editing logic here\r\n      console.log(\"Edit todo:\", todo);\r\n      this.currentTodo = todo; // This will open the TodoForm with the selected todo\r\n      this.showCreateForm = true;\r\n    },\r\n    getCategoryName(categoryId) {\r\n      const category = this.categories.find(cat => cat.id === categoryId);\r\n      return category ? category.name : 'Unknown';\r\n    },\r\n    resetForm() {\r\n      this.currentTodo = null;\r\n      this.showCreateForm = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Additional scoped styles if needed */\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAA8B;gEACvCC,mBAAA,CAAkD;EAA9CD,KAAK,EAAC;AAAyB,GAAC,WAAS;;EAGxCA,KAAK,EAAC;AAAM;gEACfC,mBAAA,CAA+F;EAAxFC,GAAG,EAAC,iBAAiB;EAACF,KAAK,EAAC;GAAiC,qBAAmB;gEAErFC,mBAAA,CAAwC;EAAhCE,KAAK,EAAC;AAAE,GAAC,gBAAc;;;EAQ9BH,KAAK,EAAC;AAAsD;;EAEzDA,KAAK,EAAC;AAA4B;;EACnCA,KAAK,EAAC;AAAoB;;EAC1BA,KAAK,EAAC;AAAoB;;EAC1BA,KAAK,EAAC;AAAoB;;;;;uBApBnCI,mBAAA,CA+BM,OA/BNC,UA+BM,GA9BJC,UAAkD,EAElDC,mBAAA,yBAA4B,EAC5BN,mBAAA,CAQM,OARNO,UAQM,GAPJC,UAA+F,E,gBAC/FR,mBAAA,CAKS;IALDS,EAAE,EAAC,iBAAiB;+DAAUC,KAAA,CAAAC,gBAAgB,GAAAC,MAAA;IAAGC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;IAAEhB,KAAK,EAAC;MACjFmB,UAAwC,G,kBACxCf,mBAAA,CAESgB,SAAA,QAAAC,WAAA,CAFkBV,KAAA,CAAAW,UAAU,EAAtBC,QAAQ;yBAAvBnB,mBAAA,CAES;MAF+BoB,GAAG,EAAED,QAAQ,CAACb,EAAE;MAAGP,KAAK,EAAEoB,QAAQ,CAACb;wBACtEa,QAAQ,CAACE,IAAI,wBAAAC,UAAA;2FAHkBf,KAAA,CAAAC,gBAAgB,E,KAQxDL,mBAAA,yBAA4B,EAC5BN,mBAAA,CAWM,OAXN0B,UAWM,I,kBAVJvB,mBAAA,CASMgB,SAAA,QAAAC,WAAA,CATcV,KAAA,CAAAiB,KAAK,EAAbC,IAAI;yBAAhBzB,mBAAA,CASM;MATsBoB,GAAG,EAAEK,IAAI,CAACnB,EAAE;MAAEV,KAAK,EAAC;QAC9CC,mBAAA,CAA4D,MAA5D6B,UAA4D,EAAAC,gBAAA,CAAlBF,IAAI,CAACG,KAAK,kBACpD/B,mBAAA,CAAkF,KAAlFgC,UAAkF,EAApD,YAAU,GAAAF,gBAAA,CAAGd,QAAA,CAAAiB,eAAe,CAACL,IAAI,CAACM,UAAU,mBAC1ElC,mBAAA,CAA8D,KAA9DmC,WAA8D,EAAhC,YAAU,GAAAL,gBAAA,CAAGF,IAAI,CAACQ,OAAO,kBACvDpC,mBAAA,CAA2D,KAA3DqC,WAA2D,EAA7B,UAAQ,GAAAP,gBAAA,CAAGF,IAAI,CAACU,MAAM,kBACpDtC,mBAAA,CAGM,cAFJA,mBAAA,CAAqH;MAA5GuC,OAAK,EAAA3B,MAAA,IAAEI,QAAA,CAAAwB,QAAQ,CAACZ,IAAI;MAAG7B,KAAK,EAAC;OAAkE,MAAI,iBAAA0C,WAAA,GAC5GzC,mBAAA,CAAqH;MAA5GuC,OAAK,EAAA3B,MAAA,IAAEI,QAAA,CAAA0B,UAAU,CAACd,IAAI,CAACnB,EAAE;MAAGV,KAAK,EAAC;OAA2D,QAAM,iBAAA4C,WAAA,E;oCAKlHrC,mBAAA,qBAAwB,EACxBN,mBAAA,CAAkI;IAAzHuC,OAAK,EAAAzB,MAAA,QAAAA,MAAA,MAAAF,MAAA,IAAEF,KAAA,CAAAkC,cAAc;IAAS7C,KAAK,EAAC;KAAoE,UAAQ,GACzGW,KAAA,CAAAkC,cAAc,I,cAA9BC,YAAA,CAA4GC,mBAAA;;IAA3EC,aAAW,EAAE/B,QAAA,CAAAC,UAAU;IAAG+B,WAAS,EAAEhC,QAAA,CAAAiC,SAAS;IAAG5B,UAAU,EAAEX,KAAA,CAAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}